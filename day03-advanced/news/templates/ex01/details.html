{% extends 'base.html' %}

{% block content %}
    <h2>Article Details</h2>
    
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
    
    <table class="table table-bordered">
        <thead class="table-light">
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Synopsis</th>
                <th>Content</th>
                <th>Created</th>
                <th>Publication Time</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>{{ article.title }}</td>
                <td>{{ article.author }}</td>
                <td>{{ article.synopsis }}</td>
                <td>{{ article.content }}</td>
                <td>{{ article.created|date:"N j, Y, P" }}</td>
                <td>{{ article.created|timesince }} ago</td>
            </tr>
        </tbody>
    </table>
    
    <div class="mt-3">
        <form action="{% url 'add_to_favorite' article.id %}" method="POST">
            {% csrf_token %}
            {{ form }}
            <button type="submit" class="btn btn-primary">Add to favorites</button>
        </form>
    </div>
{% endblock %}